<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NAMI_BETA</title>

    <!-- Quill 테마 먼저 로드 -->
    <link href="https://cdn.quilljs.com/1.3.7/quill.snow.css" rel="stylesheet" />

    <script src="https://cdn.quilljs.com/1.3.7/quill.min.js"></script>

    <!-- 구글 한글 폰트 모음 -->
    <link
      href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:400,700|Nanum+Gothic:400,700|Nanum+Myeongjo:400,700|Nanum+Pen+Script&display=swap"
      rel="stylesheet"
    />

    <!-- CSS 모듈: tokens → base → components → utilities -->

    <!-- (테스트 중에만) 아직 못 옮긴 스타일이 있으면 임시로 -->
    <!-- <link rel="stylesheet" href="./style.css" /> -->

    <script type="module" crossorigin src="/nami_test/assets/index-DgEClXzR.js"></script>
    <link rel="stylesheet" crossorigin href="/nami_test/assets/index-CG4PwhjE.css">
  </head>
  <body>
    <div id="galleryInfo"></div>

    <div id="loadingScreen">
      <div class="loadingText">로딩 중..</div>
    </div>

    <div id="instructionOverlay">
      <div class="instructionContent">
        <h2><strong>나만의미술관 관람 안내</strong></h2>
        <ul>
          <li>🖱️ 드래그/스크롤로 시점 회전</li>
          <li>⬅️ / ➡️ 버튼으로 작품 넘기기</li>
          <li>❔ 버튼으로 작품 설명 보기</li>
          <li>🖼️ 작품 클릭 → 가까이 보기</li>
        </ul>
        <p style="margin-top: 20px">클릭하면 시작합니다!</p>
      </div>
    </div>

    <img
      src="/nami_test/logo/nami_logo_main.svg"
      alt="Logo"
      class="logo"
    />

    <div class="nav-buttons" id="navButtons">
      <!-- info 버튼 -->
      <div id="infoButton" class="nav-icon"></div>

      <!-- 좌우 버튼 -->
      <div class="direction-row">
        <div id="leftButton" class="nav-icon"></div>
        <div id="rightButton" class="nav-icon"></div>
      </div>

      <!-- 홈 버튼 -->
      <div id="homeButton" class="nav-icon"></div>
    </div>

    <!-- 네비게이션 버튼 on/off 토글 -->
    <button id="navButtonsToggle" class="nav-toggle"></button> 

    <div id="infoModal">
      <div id="infoContent"></div>
      <div class="info-close-wrap">
        <button id="closeInfoButton" class="icon-btn sm">
          <img src="icons/back.svg" alt="닫기" />
        </button>
      </div>
    </div>

    <!-- 설정 버튼 (톱니바퀴 아이콘) -->
    <img id="settingsToggle" class="settings-icon"
         src="icons/settingsButton.svg" alt="설정">

    <!-- 슬라이딩 설정 패널 -->
    <div id="settingsPanel" class="settings-panel">
      <img src="icons/cogwheel.svg" alt="Settings Panel Logo" class="settings-logo" />
      <div class="settings-container">
        <!-- 메인 메뉴 -->
        <div class="settings-slide active" id="panel-main">
          <h2>설정 </h2>
          <h4>각 항목을 클릭하면 나만의 미술관을<br />개성있게 꾸밀 수 있습니다.</h4>
          <div class="settings-menu">
            <button id="themeBtn">
              <img class="menu-icon" src="icons/shortcutTheme.svg" alt="">
              <span>전시 주제</span>
            </button>
            <button id="bgBtn">
              <img class="menu-icon" src="icons/shortcutBackground.svg" alt="">
              <span>미술관 배경</span>
            </button>
            <button id="paintingsBtn">
              <img class="menu-icon" src="icons/shortcutPaintings.svg" alt="">
              <span>작품</span>
            </button>
            <button id="introBtn">
              <img class="menu-icon" src="icons/shortcutIntro.svg" alt="">
              <span>전시 글 / 포스터</span>
            </button>
            <button id="artwallsBtn">
              <img class="menu-icon" src="icons/shortcutArtwall.svg" alt="">
              <span>아트 스티커</span>
            </button>
            <button id="invitationBtn">
              <img class="menu-icon" src="icons/shortcutInvitation.svg" alt="">
              <span>초대장</span>
            </button>
          </div>
        </div>

        <!-- 하위 패널들 -->
        <div class="settings-slide" id="panel-theme">
          <!-- 패널 상단 바로가기 바 -->
          <div class="panel-shortcut">
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-theme">
              <img src="icons/shortcutTheme.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-background">
              <img src="icons/shortcutBackground.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-paintings">
              <img src="icons/shortcutPaintings.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-intro">
               <img src="icons/shortcutIntro.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-artwalls">
               <img src="icons/shortcutArtwall.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-invitation">
              <img src="icons/shortcutInvitation.svg" alt="" />
            </button>
          </div>
          <h3>전시 주제</h3>
          <h4>
            나만의 전시 주제를 설정합니다.<br />전시명과 전시 기간을 입력합니다.
          </h4>
          <label for="exhibitTitle">전시명</label>
          <input
            type="text"
            id="exhibitTitle"
            placeholder="예: 나만의 미술관"
          />

          <label for="exhibitStart">전시 시작일</label>
          <input type="date" id="exhibitStart" />

          <label for="exhibitEnd">전시 종료일</label>
          <input type="date" id="exhibitEnd" />

          <label for="visibilityToggle">전시 공개 여부</label>
          <div class="switch-wrapper">
            <label class="switch">
              <input type="checkbox" id="visibilityToggle" />
              <span class="track"><span class="thumb"></span></span>
            </label>
            <span class="switch-label" id="visibilityLabel">공개</span>
          </div>

          <div class="button-row">
            <button class="backToMainBtn">
              <img src="icons/back.svg" alt="뒤로가기" />
            </button>
            <button id="saveExhibitButton" class="saveExhibitButton">
              <img src="icons/apply.svg" alt="확인" />
            </button>
          </div>
        </div>

        <div class="settings-slide" id="panel-background">
          <!-- 패널 상단 바로가기 바 -->
          <div class="panel-shortcut">
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-theme">
              <img src="icons/shortcutTheme.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-background">
              <img src="icons/shortcutBackground.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-paintings">
              <img src="icons/shortcutPaintings.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-intro">
               <img src="icons/shortcutIntro.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-artwalls">
               <img src="icons/shortcutArtwall.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-invitation">
              <img src="icons/shortcutInvitation.svg" alt="" />
            </button>
          </div>
          <h3>미술관 배경</h3>
          <h4>
            미술관의 배경을 설정합니다.<br />전시 주제에 맞게 설정이 가능합니다.
          </h4>

          <!-- 배경 썸네일 정사각형 박스 (버튼 + 그리드 포함) -->
          <div class="background-grid-placeholder">
  
            <!-- 좌우 아이콘 -->
            <img id="prevBgPageBtn" class="grid-nav-icon prev"
                 src="icons/gridNaviLeft.svg" alt="이전">
            <img id="nextBgPageBtn" class="grid-nav-icon next"
                 src="icons/gridNaviRight.svg" alt="다음">

            <!-- 배경 썸네일 그리드 -->
            <div class="background-grid-wrapper">
              <div class="background-grid" id="backgroundGrid">
                <!-- js로 그림 썸네일 자동 생성 -->
              </div>
            </div>

          </div>

          <div class="button-row">
            <button class="backToMainBtn">
              <img src="icons/back.svg" alt="뒤로가기" />
            </button>
            <button class="saveExhibitButton">
              <img src="icons/apply.svg" alt="확인" />
            </button>
          </div>
        </div>

        <div class="settings-slide" id="panel-paintings">
          <!-- 패널 상단 바로가기 바 -->
          <div class="panel-shortcut">
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-theme">
              <img src="icons/shortcutTheme.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-background">
              <img src="icons/shortcutBackground.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-paintings">
              <img src="icons/shortcutPaintings.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-intro">
               <img src="icons/shortcutIntro.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-artwalls">
               <img src="icons/shortcutArtwall.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-invitation">
              <img src="icons/shortcutInvitation.svg" alt="" />
            </button>
          </div>
          <h3>작품</h3>
          <ol class="panel-painting-instructions">
            <li>
              <h4>작품 배치</h4>
              <p>아래 리스트의 전시하고자 하는 작품을 선택하고 드래그하여 원하는 위치에 배치합니다.</p>
            </li>
            <li>
              <h4>작품 크기 조절 및 삭제</h4>
              <p>벽면 작품을 클릭하면 작품사이즈를 드래그하여 수정할 수 있고 삭제 버튼을 눌러 삭제할 수 있습니다.</p>
            </li>
            <li>
              <h4>작품 이야기 변경</h4>
              <p>벽면의 작품을 클릭하여 각 작품에 해당하는 나만의 이야기를 입력할 수 있습니다.</p>
            </li>
          </ol>

          <!-- 좌우 벽 전환 버튼 -->
          <div class="wall-nav">
            <button class="wall-left-btn">&lt;</button>
            <span class="current-wall-label">벽면 1</span>
            <button class="wall-right-btn">&gt;</button>
          </div>

          <!-- 패널 하단 정사각형 박스 (버튼 + 그리드 다 감쌈) -->
          <div class="grid-placeholder">
  
            <!-- 좌우 아이콘 (버튼 대신 img 직접 클릭) -->
            <img id="prevPageBtn" class="grid-nav-icon prev"
                 src="icons/gridNaviLeft.svg" alt="이전">
            <img id="nextPageBtn" class="grid-nav-icon next"
                 src="icons/gridNaviRight.svg" alt="다음">

              <!-- 그리드 -->
              <div class="painting-grid-wrapper">
              <div class="painting-grid" id="paintingGrid">
                <!-- js로 썸네일 자동 생성 -->
              </div>
            </div>

          </div>


          <!-- 확인/뒤로가기 버튼 -->
          <div class="button-row">
            <button class="backToMainBtn">
              <img src="icons/back.svg" alt="뒤로가기" />
            </button>
          </div>
        </div>

        <div class="settings-slide" id="panel-intro">
          <!-- 패널 상단 바로가기 바 -->
          <div class="panel-shortcut">
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-theme">
              <img src="icons/shortcutTheme.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-background">
              <img src="icons/shortcutBackground.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-paintings">
              <img src="icons/shortcutPaintings.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-intro">
               <img src="icons/shortcutIntro.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-artwalls">
               <img src="icons/shortcutArtwall.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-invitation">
              <img src="icons/shortcutInvitation.svg" alt="" />
            </button>
          </div>
          <h3>전시 글 / 포스터</h3>
          <ol class="panel-intro-instructions">
            <li>
              <h4>전시 글 형태 선택</h4>
              <p>캔버스 또는 투명필름 중 원하는 전시 글 형태를 선택하고 드래그하여 원하는 위치에 배치 합니다.</p>
            </li>
            <li>
              <h4>전시 글 입력 및 크기 조절</h4>
              <p>전시 글 영역을 클릭하여 글을 입력합니다.</p>
            </li>
            <li>
              <h4>포스터 올리기</h4>
              <p>포스터를 선택하고 드래그하여 원하는 위치에 배치 후 이미지를 불러옵니다. 포스터는 한 장만 사용 할 수 있습니다.</p>
            </li>
          </ol>
          <div class="wall-nav">
            <button class="wall-left-btn">&lt;</button>
            <span class="current-wall-label">벽면 1</span>
            <button class="wall-right-btn">&gt;</button>
          </div>
          <div class="intro-object-grid" id="introGrid"></div>
          <div class="button-row">
            <button class="backToMainBtn">
              <img src="icons/back.svg" alt="뒤로가기" />
            </button>
          </div>
        </div>

        <div class="settings-slide" id="panel-artwalls">
          <!-- 패널 상단 바로가기 바 -->
          <div class="panel-shortcut">
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-theme">
              <img src="icons/shortcutTheme.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-background">
              <img src="icons/shortcutBackground.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-paintings">
              <img src="icons/shortcutPaintings.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-intro">
               <img src="icons/shortcutIntro.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-artwalls">
               <img src="icons/shortcutArtwall.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-invitation">
              <img src="icons/shortcutInvitation.svg" alt="" />
            </button>
          </div>
          <h3>아트 스티커</h3>
          <h4>
            아트 스티커를 선택하고 드래그하여 원하는 위치에 부착 합니다.
          </h4>
          <div class="wall-nav">
            <button class="wall-left-btn">&lt;</button>
            <span class="current-wall-label">벽면 1</span>
            <button class="wall-right-btn">&gt;</button>
          </div>
          <!-- 아트월 썸네일 정사각형 박스 (버튼 + 그리드 포함) -->
          <div class="artwall-grid-placeholder">

            <!-- 좌우 아이콘 -->
            <img id="prevArtPageBtn" class="grid-nav-icon prev"
                 src="icons/gridNaviLeft.svg" alt="이전">
            <img id="nextArtPageBtn" class="grid-nav-icon next"
                 src="icons/gridNaviRight.svg" alt="다음">

            <!-- 아트월 썸네일 그리드 -->
            <div class="artwall-grid-wrapper">
              <div class="artwall-grid" id="artwallGrid">
              <!-- js로 그림 썸네일 자동 생성 -->
              </div>
            </div>

          </div>

          <div class="button-row">
            <button class="backToMainBtn">
              <img src="icons/back.svg" alt="뒤로가기" />
            </button>
          </div>
        </div>

        <div class="settings-slide" id="panel-invitation">
          <!-- 패널 상단 바로가기 바 -->
          <div class="panel-shortcut">
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-theme">
              <img src="icons/shortcutTheme.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-background">
              <img src="icons/shortcutBackground.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-paintings">
              <img src="icons/shortcutPaintings.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-intro">
               <img src="icons/shortcutIntro.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-artwalls">
               <img src="icons/shortcutArtwall.svg" alt="" />
            </button>
            <button class="shortcut-btn" data-role="panel-shortcut" data-panel="panel-invitation">
              <img src="icons/shortcutInvitation.svg" alt="" />
            </button>
          </div>
          <h3>초대장</h3>
          <h4>친구에게 초대장을 보냅니다.<br />초대장 전달 방식을 선택합니다.</h4>
          <div class="button-row">
            <button class="backToMainBtn">
              <img src="icons/back.svg" alt="뒤로가기" />
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- 작품 편집 하단 버튼 (동적으로 토글됨) -->
    <div
      id="paintingEditButtons"
      style="
        display: none;
        position: fixed;
        left: 50%;
        bottom: 90px;
        transform: translateX(-50%);
        z-index: 1001;
      "
    ></div>

    <!-- textarea 오버레이도 HTML에 추가 -->
    <div
      id="introTextEditorOverlay"
      style="display: none; position: fixed; z-index: 1100"
    >
      <div id="quillEditor"></div>
      <div id="overlayBtnBar">
        <button id="introTextApplyBtn" class="icon-btn sm">
          <img src="icons/apply.svg" alt="확인" />
        </button>
        <button id="introTextCancelBtn" class="icon-btn sm">
          <img src="icons/back.svg" alt="취소" />
        </button>
      </div>
    </div>

    <!-- ───────── 소셜 패널 ───────── -->
    <div id="socialPanel" class="social-panel">
      <h3>COMMENTS / AWARDS</h3>
      <div class="comment-section">
        <div id="comments-list" class="comments-list"></div>
        <div class="comment-input-area">
          <textarea id="comment-input" placeholder="댓글 달기..." rows="1"></textarea>
          <button id="submit-btn" disabled>게시</button>
        </div>
      </div>
      <div class="award-section">
        <button class="award-btn" data-type="like">🌟<br><span>기획/완성</span><span class="award-count">0</span></button>
        <button class="award-btn" data-type="cheer">👏<br><span>재미/감동</span><span class="award-count">0</span></button>
        <button class="award-btn" data-type="wow">😍<br><span>예술/창의</span><span class="award-count">0</span></button>
        <button class="award-btn" data-type="recommend">👍<br><span>추천</span><span class="award-count">0</span></button>
      </div>
    </div>


    <!-- 소셜 패널 토글 버튼 (우측 하단) -->
    <button id="socialToggle" class="social-toggle"></button>

  </body>
</html>
